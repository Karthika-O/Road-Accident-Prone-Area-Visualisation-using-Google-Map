{% extends 'Authority/base.html' %}
{% block content %}

        <br>
     <br>

<section class="site-hero site-sm-hero overlay" data-stellar-background-ratio="0.5">
      <div class="container">
        <div class="row align-items-center justify-content-center site-hero-sm-inner">
          <div class="col-md-7 text-center">

            <div class="mb-5 element-animate">
              <h1 class="mb-2">Add Accident Data</h1>
            </div>

          </div>
        </div>
      </div>
    </section>
    <!--/ bradcam_area  -->

<form method="post" enctype="multipart/form-data">
{% csrf_token %}

<table align="center" width="500px">
  <tr>
      <td><label>District</label></td>
      <td><input class="form-control valid" name="district" type="text" required></td>
  </tr>

  <tr>
      <td><label>Police Station</label></td>
      <td><input class="form-control valid" name="police_station" type="text" required></td>
  </tr>

  <tr>
      <td><label>Location</label></td>
      <td><input class="form-control valid" name="location" type="text" required></td>
  </tr>

  <tr>
      <td><label>Road Name</label></td>
      <td><input class="form-control valid" name="road_name" type="text" required></td>
  </tr>

  <tr>
      <td><label>Latitude</label></td>
      <td><input class="form-control valid" id="latitude" name="latitude" type="number" step="any" required readonly></td>
  </tr>

  <tr>
      <td><label>Longitude</label></td>
      <td><input class="form-control valid" id="longitude" name="longitude" type="number" step="any" required readonly></td>
  </tr>

  <tr>
    <td><label>Fatality (Yes/No)</label></td>
    <td>
        <select class="form-control valid" name="fatality">
            <option value="no">No</option>
            <option value="yes">Yes</option>
        </select>
    </td>
</tr>

  <tr align="center">
      <td colspan="2"><button type="submit" class="btn btn-primary login-btn mb-4">Submit</button></td>
  </tr>
</table>

<script>
  function fetchLocation() {
      if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
              document.getElementById("latitude").value = position.coords.latitude;
              document.getElementById("longitude").value = position.coords.longitude;
          }, function(error) {
              console.error("Error fetching location: ", error);
              alert("Unable to fetch location. Please enable location services.");
          });
      } else {
          alert("Geolocation is not supported by this browser.");
      }
  }

  window.onload = fetchLocation;
</script>


    </form>
    <!-- about_area_end  -->
{% endblock %}
